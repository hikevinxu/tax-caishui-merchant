{"version":3,"sources":["webpack:///./src/views/merchantPC/addressInfo.vue?641d","webpack:///src/views/merchantPC/addressInfo.vue","webpack:///./src/views/merchantPC/addressInfo.vue?78ba","webpack:///./src/views/merchantPC/addressInfo.vue","webpack:///./src/api/globalApi.js","webpack:///./src/api/requestApi.js","webpack:///./src/views/merchantPC/addressInfo.vue?5811"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","disabled","editMark","placeholder","on","change","provinceCodeChange","model","value","callback","$$v","provinceCode","expression","_l","item","key","code","label","name","cityCodeChange","cityCode","areaCode","address","loading","remote-method","selectAddressInput","reserve-keyword","filterable","remote","selectAddressChange","searchInput","id","lnglat","ref","vid","center","zoom","plugin","events","_m","click","getCurrentPositionLaglng","src","__webpack_require__","alt","editAddress","canael","save","staticRenderFns","vue_runtime_esm","use","dist_default","a","initAMapApiLoader","global","amapKey","v","addressInfovue_type_script_lang_js_","data","_this","temp","searchResult","provinceList","cityList","areaList","init","o","console","log","dragend","e","centerPoint","$refs","map","$$getCenter","geocoder","AMap","Geocoder","radius","extensions","getAddress","status","result","regeocode","pName","created","companyAddressGet","getProvinceList","methods","_this2","requestApi","then","res","location","split","_unused","params","globalApi","getAddressCitys","getAddressAreas","_this3","getAddressProvinces","_this4","getLocationLoading","geolocation","Geolocation","enableHighAccuracy","timeout","buttonOffset","Pixel","zoomToAccuracy","buttonPosition","getCurrentPosition","event","addListener","position","lng","lat","$message","message","type","showClose","duration","val","query","_this5","autoOptions","city","placeSearch","PlaceSearch","search","info","poiList","pois","i","length","_this6","_this7","_this8","companyAddressUpdate","merchantPC_addressInfovue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_axios__WEBPACK_IMPORTED_MODULE_0__","fetchGet","getAddressTrees","getAddressCityTrees","getFileuploadUpload","fetchPost","authLogin","loginOut","fileUploadGetUrl","datacenterConsult_records","datacenterStatistic","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addressInfo_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addressInfo_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAA0B,CAAAF,EAAA,OAAYE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,SAAoB,CAAAN,EAAAO,GAAA,wBAAAH,EAAA,OAA2CE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,aAAwB,CAAAF,EAAA,OAAYE,YAAA,eAA0B,CAAAF,EAAA,aAAkBI,MAAA,CAAOC,SAAAT,EAAAU,SAAAC,YAAA,OAA4CC,GAAA,CAAKC,OAAAb,EAAAc,oBAAgCC,MAAA,CAAQC,MAAAhB,EAAA,aAAAiB,SAAA,SAAAC,GAAkDlB,EAAAmB,aAAAD,GAAqBE,WAAA,iBAA4BpB,EAAAqB,GAAArB,EAAA,sBAAAsB,GAA0C,OAAAlB,EAAA,aAAuBmB,IAAAD,EAAAE,KAAAhB,MAAA,CAAqBiB,MAAAH,EAAAI,KAAAV,MAAAM,EAAAE,UAAuC,GAAApB,EAAA,aAAqBE,YAAA,aAAAE,MAAA,CAAgCC,SAAAT,EAAAU,SAAAC,YAAA,OAA4CC,GAAA,CAAKC,OAAAb,EAAA2B,gBAA4BZ,MAAA,CAAQC,MAAAhB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAA4B,SAAAV,GAAiBE,WAAA,aAAwBpB,EAAAqB,GAAArB,EAAA,kBAAAsB,GAAsC,OAAAlB,EAAA,aAAuBmB,IAAAD,EAAAE,KAAAhB,MAAA,CAAqBiB,MAAAH,EAAAI,KAAAV,MAAAM,EAAAE,UAAuC,GAAApB,EAAA,aAAqBE,YAAA,aAAAE,MAAA,CAAgCC,SAAAT,EAAAU,SAAAC,YAAA,OAA4CI,MAAA,CAAQC,MAAAhB,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAA6B,SAAAX,GAAiBE,WAAA,aAAwBpB,EAAAqB,GAAArB,EAAA,kBAAAsB,GAAsC,OAAAlB,EAAA,aAAuBmB,IAAAD,EAAAE,KAAAhB,MAAA,CAAqBiB,MAAAH,EAAAI,KAAAV,MAAAM,EAAAE,UAAuC,GAAApB,EAAA,YAAoBE,YAAA,eAAAE,MAAA,CAAkCC,SAAAT,EAAAU,SAAAC,YAAA,SAA8CI,MAAA,CAAQC,MAAAhB,EAAA,QAAAiB,SAAA,SAAAC,GAA6ClB,EAAA8B,QAAAZ,GAAgBE,WAAA,cAAuB,KAAAhB,EAAA,OAAkBE,YAAA,YAAuB,CAAAF,EAAA,OAAYE,YAAA,aAAwB,CAAAN,EAAAO,GAAA,UAAAH,EAAA,aAAmCE,YAAA,gBAAAE,MAAA,CAAmCuB,QAAA/B,EAAA+B,QAAAC,gBAAAhC,EAAAiC,mBAAAC,kBAAA,GAAAC,WAAA,GAAAC,OAAA,GAAAzB,YAAA,OAAkIC,GAAA,CAAKC,OAAAb,EAAAqC,qBAAiCtB,MAAA,CAAQC,MAAAhB,EAAA,YAAAiB,SAAA,SAAAC,GAAiDlB,EAAAsC,YAAApB,GAAoBE,WAAA,gBAA2BpB,EAAAqB,GAAArB,EAAA,sBAAAsB,GAA0C,OAAAlB,EAAA,aAAuBmB,IAAAD,EAAAiB,GAAA/B,MAAA,CAAmBiB,MAAAH,EAAAI,KAAAV,MAAAM,EAAAkB,YAAyC,GAAApC,EAAA,OAAeE,YAAA,OAAkB,CAAAF,EAAA,WAAgBqC,IAAA,MAAAjC,MAAA,CAAiBkC,IAAA,OAAAC,OAAA3C,EAAA2C,OAAAC,KAAA5C,EAAA4C,KAAAC,OAAA7C,EAAA6C,OAAAC,OAAA9C,EAAA8C,UAA0F9C,EAAA+C,GAAA,GAAA3C,EAAA,OAAsBE,YAAA,WAAAM,GAAA,CAA2BoC,MAAAhD,EAAAiD,2BAAsC,CAAA7C,EAAA,OAAYI,MAAA,CAAO0C,IAAMC,EAAQ,QAAyCC,IAAA,SAAY,SAAApD,EAAA,SAAAI,EAAA,OAAuCE,YAAA,WAAsB,CAAAF,EAAA,UAAeQ,GAAA,CAAIoC,MAAAhD,EAAAqD,cAAyB,CAAArD,EAAAO,GAAA,YAAAH,EAAA,OAA+BE,YAAA,WAAsB,CAAAF,EAAA,UAAeE,YAAA,SAAAM,GAAA,CAAyBoC,MAAAhD,EAAAsD,SAAoB,CAAAtD,EAAAO,GAAA,QAAAH,EAAA,UAA8BE,YAAA,OAAAM,GAAA,CAAuBoC,MAAAhD,EAAAuD,OAAkB,CAAAvD,EAAAO,GAAA,eAChoFiD,EAAA,YAAoC,IAAAxD,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAoB,CAAAF,EAAA,OAAYI,MAAA,CAAO0C,IAAMC,EAAQ,QAA6BC,IAAA,qGCoEtMK,EAAA,WAAAC,IAAAC,EAAAC,GAGAD,EAAAC,EAAAC,kBAAA,CACAtC,IAAAuC,EAAA,KAAAC,QACAlB,OAAA,6KAEAmB,EAAA,UAGA,IAAAC,EAAA,CACAC,KADA,WACA,IAAAC,EAAAlE,KACA,OACA8B,SAAA,EACAqC,KAAA,GACAC,aAAA,GACAlD,aAAA,GACAmD,aAAA,GACA1C,SAAA,GACA2C,SAAA,GACA1C,SAAA,GACA2C,SAAA,GACAlC,YAAA,GACA5B,UAAA,EACAoB,QAAA,GACAa,OAAA,uBACAC,KAAA,GACAE,OAAA,CACA2B,KAAA,SAAAC,GACAC,QAAAC,IAAAF,IAEAG,QAAA,SAAAC,GACA,IAAAC,EAAAZ,EAAAa,MAAAC,IAAAC,cACAf,EAAAxB,OAAAoC,EACA,IAAAI,EAAA,IAAAC,KAAAC,SAAA,CACAC,OAAA,IACAC,WAAA,QAEAJ,EAAAK,WAAAT,EAAA,SAAAU,EAAAC,GACA,YAAAD,GACAd,QAAAC,IAAAc,EAAAC,eAMA9C,OAAA,CACA,UACA,CACA+C,MAAA,QACA9C,OAAA,CACA2B,KADA,SACAC,OAKA,CACAkB,MAAA,cACA9C,OAAA,CACA2B,KAAA,SAAAC,GAEAC,QAAAC,IAAA,WAOAiB,QA1DA,WA2DA5F,KAAA6F,oBACA7F,KAAA8F,mBAEAC,QAAA,CACAF,kBADA,WACA,IAAAG,EAAAhG,KACAiG,EAAA,KAAAJ,oBAAAK,KAAA,SAAAC,GACA,MAAAA,EAAA5E,KAAA,CAMA,GALAmD,QAAAC,IAAAwB,GACAH,EAAAnE,QAAAsE,EAAAlC,KAAApC,QACAmE,EAAA9E,aAAAiF,EAAAlC,KAAA/C,aACA8E,EAAArE,SAAAwE,EAAAlC,KAAAtC,SACAqE,EAAApE,SAAAuE,EAAAlC,KAAArC,SACA,IAAAuE,EAAAlC,KAAAmC,SAAA,CACAJ,EAAAtD,OAAA,GAAAyD,EAAAlC,KAAAmC,SAAAC,MAAA,QACAL,EAAAtD,OAAA,GAAAyD,EAAAlC,KAAAmC,SAAAC,MAAA,QACA,IACAL,EAAA5D,oBAAA4D,EAAAtD,QAEA,MAAA4D,UAIAN,EAAAhD,2BAEA,IAAAuD,EAAA,CACArF,aAAA8E,EAAA9E,cAEAsF,EAAA,KAAAC,gBAAAF,GAAAL,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACAyE,EAAA1B,SAAA6B,EAAAlC,QAGA,IAAAA,EAAA,CACA/C,aAAA8E,EAAA9E,aACAS,SAAAqE,EAAArE,UAEA6E,EAAA,KAAAE,gBAAAzC,GAAAiC,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACAyE,EAAAzB,SAAA4B,EAAAlC,YAMA6B,gBAzCA,WAyCA,IAAAa,EAAA3G,KACAwG,EAAA,KAAAI,sBAAAV,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACAoF,EAAAtC,aAAA8B,EAAAlC,SAaAjB,yBAzDA,WAyDA,IAAA6D,EAAA7G,KACA0E,QAAAC,IAAA,KACA3E,KAAA8G,oBAAA,EACA,IAAAC,EAAA,IAAA5B,KAAA6B,YAAA,CAEAC,oBAAA,EAEAC,QAAA,IAEAC,aAAA,IAAAhC,KAAAiC,MAAA,OAEAC,gBAAA,EAEAC,eAAA,OAGAP,EAAAQ,qBAEApC,KAAAqC,MAAAC,YAAAV,EAAA,oBAAA9C,GACA4C,EAAAnE,OAAA,CAAAuB,EAAAyD,SAAAC,IAAA1D,EAAAyD,SAAAE,KACAf,EAAAC,oBAAA,IAEA3B,KAAAqC,MAAAC,YAAAV,EAAA,iBAAA9C,GACAS,QAAAC,IAAAV,GACA4C,EAAAgB,SAAA,CACAC,QAAA,WACAC,KAAA,QACAC,WAAA,EACAC,SAAA,SAIA7F,oBAzFA,SAyFA8F,GACAxD,QAAAC,IAAAuD,GACAlI,KAAA0C,OAAA,CAAAwF,EAAA,GAAAA,EAAA,IACA,IAAAhD,EAAA,IAAAC,KAAAC,SAAA,CACAC,OAAA,IACAC,WAAA,QAEAJ,EAAAK,WAAA2C,EAAA,SAAA1C,EAAAC,OAMAzD,mBAtGA,SAsGAmG,GAAA,IAAAC,EAAApI,KACA,QAAAmI,EAAA,CACAnI,KAAA8B,SAAA,EACA,IAAAuG,EAAA,CACAC,KAAA,MAEAC,EAAA,IAAApD,KAAAqD,YAAAH,GACAE,EAAAE,OAAAN,EAAA,SAAA3C,EAAAC,GAGA,GADAf,QAAAC,IAAAc,GACA,MAAAA,EAAAiD,KAAA,CACAN,EAAAtG,SAAA,EACAsG,EAAAhE,aAAAqB,EAAAkD,QAAAC,KACA,QAAAC,EAAA,EAAAA,EAAAT,EAAAhE,aAAA0E,OAAAD,IACAT,EAAAhE,aAAAyE,GAAAtG,OAAA,CAAA6F,EAAAhE,aAAAyE,GAAAzC,SAAAuB,IAAAS,EAAAhE,aAAAyE,GAAAzC,SAAAwB,UAGAQ,EAAAhE,aAAA,UAIApE,KAAAoE,aAAA,IAGAvD,mBA9HA,SA8HAqH,GAAA,IAAAa,EAAA/I,KACAA,KAAA2B,SAAA,GACA3B,KAAA4B,SAAA,GACA5B,KAAAsE,SAAA,GACAtE,KAAAuE,SAAA,GACA,IAAAgC,EAAA,CACArF,aAAAgH,GAEA1B,EAAA,KAAAC,gBAAAF,GAAAL,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACAwH,EAAAzE,SAAA6B,EAAAlC,SAIAvC,eA5IA,SA4IAwG,GAAA,IAAAc,EAAAhJ,KACAA,KAAA4B,SAAA,GACA5B,KAAAuE,SAAA,GACA,IAAAN,EAAA,CACA/C,aAAAlB,KAAAkB,aACAS,SAAAuG,GAEA1B,EAAA,KAAAE,gBAAAzC,GAAAiC,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACAyH,EAAAzE,SAAA4B,EAAAlC,SAIAb,YAzJA,WA0JApD,KAAA6F,oBACA7F,KAAA8F,kBACA9F,KAAAS,UAAA,GAEA6C,KA9JA,WA8JA,IAAA2F,EAAAjJ,KACAuG,EAAA,CACA1E,QAAA7B,KAAA6B,QACAX,aAAAlB,KAAAkB,aACAS,SAAA3B,KAAA2B,SACAC,SAAA5B,KAAA4B,SACAwE,SAAApG,KAAA0C,OAAA,OAAA1C,KAAA0C,OAAA,IAEAuD,EAAA,KAAAiD,qBAAA3C,GAAAL,KAAA,SAAAC,GACA,GAAAA,EAAA5E,OACA0H,EAAApB,SAAA,CACAC,QAAA,OACAC,KAAA,UACAC,WAAA,EACAC,SAAA,MAEAgB,EAAApD,oBACAoD,EAAAnD,kBACAmD,EAAAxI,UAAA,MAIA4C,OApLA,WAqLArD,KAAA6F,oBACA7F,KAAA8F,kBACA9F,KAAAS,UAAA,KCpUoW0I,EAAA,0BCQpWC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACArJ,EACAyD,GACF,EACA,KACA,KACA,MAIegG,EAAA,WAAAH,+CCnBf,IAAAI,EAAAtG,EAAA,QAEeqG,EAAA,MAQb7C,gBARa,SAQIH,GACf,OAAOkD,eAAS,iBAAkBlD,IAQpCE,gBAjBa,SAiBIF,GACf,OAAOkD,eAAS,iBAAkBlD,IAOpCK,oBAzBa,SAyBQL,GACnB,OAAOkD,eAAS,qBAAsBlD,IAOxCmD,gBAjCa,SAiCInD,GACf,OAAOkD,eAAS,iBAAkBlD,IAOpCoD,oBAzCa,SAyCQpD,GACnB,OAAOkD,eAAS,sBAAuBlD,IAOzCqD,oBAjDa,SAiDQrD,GACnB,OAAOsD,eAAU,qBAAsBtD,IAQzCuD,UA1Da,SA0DFvD,GACT,OAAOsD,eAAU,cAAetD,IAOlCwD,SAlEa,WAmEX,OAAON,eAAS,iBAQlBO,iBA3Ea,SA2EKzD,GAChB,OAAOsD,eAAU,kBAAmBtD,0CC9ExC,IAAAiD,EAAAtG,EAAA,QAEeqG,EAAA,MAUbU,0BAVa,SAUc1D,GACzB,OAAOsD,eAAU,8BAA+BtD,IASlD2D,oBApBa,SAoBQ3D,GACnB,OAAOsD,eAAU,wBAAyBtD,IAS5C2C,qBA9Ba,SA8BQ3C,GACnB,OAAOsD,eAAU,0BAA2BtD,IAQ9CV,kBAvCa,SAuCKU,GAChB,OAAOkD,eAAS,uBAAwBlD,wCC1C5C,IAAA4D,EAAAjH,EAAA,QAAAkH,EAAAlH,EAAAmH,EAAAF,GAAoiBC,EAAG","file":"js/chunk-2245f730.c6fd9ec7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addressInfo\"},[_c('div',{staticClass:\"address\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      地址信息\\n    \")]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"item info\"},[_c('div',{staticClass:\"editAddress\"},[_c('el-select',{attrs:{\"disabled\":_vm.editMark,\"placeholder\":\"请选择\"},on:{\"change\":_vm.provinceCodeChange},model:{value:(_vm.provinceCode),callback:function ($$v) {_vm.provinceCode=$$v},expression:\"provinceCode\"}},_vm._l((_vm.provinceList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}),1),_c('el-select',{staticClass:\"selectCity\",attrs:{\"disabled\":_vm.editMark,\"placeholder\":\"请选择\"},on:{\"change\":_vm.cityCodeChange},model:{value:(_vm.cityCode),callback:function ($$v) {_vm.cityCode=$$v},expression:\"cityCode\"}},_vm._l((_vm.cityList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}),1),_c('el-select',{staticClass:\"selectArea\",attrs:{\"disabled\":_vm.editMark,\"placeholder\":\"请选择\"},model:{value:(_vm.areaCode),callback:function ($$v) {_vm.areaCode=$$v},expression:\"areaCode\"}},_vm._l((_vm.areaList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}),1),_c('el-input',{staticClass:\"addressInput\",attrs:{\"disabled\":_vm.editMark,\"placeholder\":\"请输入内容\"},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}})],1)]),_c('div',{staticClass:\"item map\"},[_c('div',{staticClass:\"itemTitle\"},[_vm._v(\"地图信息\")]),_c('el-select',{staticClass:\"selectAddress\",attrs:{\"loading\":_vm.loading,\"remote-method\":_vm.selectAddressInput,\"reserve-keyword\":\"\",\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectAddressChange},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},_vm._l((_vm.searchResult),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.lnglat}})}),1),_c('div',{staticClass:\"map\"},[_c('el-amap',{ref:\"map\",attrs:{\"vid\":\"amap\",\"center\":_vm.center,\"zoom\":_vm.zoom,\"plugin\":_vm.plugin,\"events\":_vm.events}}),_vm._m(0),_c('div',{staticClass:\"location\",on:{\"click\":_vm.getCurrentPositionLaglng}},[_c('img',{attrs:{\"src\":require(\"../../assets/global/ic_map_locating.png\"),\"alt\":\"\"}})])],1)],1)]),(_vm.editMark)?_c('div',{staticClass:\"editBtn\"},[_c('button',{on:{\"click\":_vm.editAddress}},[_vm._v(\"编辑地址\")])]):_c('div',{staticClass:\"saveBtn\"},[_c('button',{staticClass:\"cancel\",on:{\"click\":_vm.canael}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"保存\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"point\"},[_c('img',{attrs:{\"src\":require(\"@/assets/global/map_pin.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"addressInfo\">\n    <div class=\"address\">\n      <div class=\"title\">\n        地址信息\n      </div>\n      <div class=\"content\">\n        <div class=\"item info\">\n          <div class=\"editAddress\">\n            <el-select :disabled=\"editMark\" v-model=\"provinceCode\" @change=\"provinceCodeChange\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in provinceList\"\n                :key=\"item.code\"\n                :label=\"item.name\"\n                :value=\"item.code\">\n              </el-option>\n            </el-select>\n            <el-select :disabled=\"editMark\" class=\"selectCity\" v-model=\"cityCode\"  @change=\"cityCodeChange\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in cityList\"\n                :key=\"item.code\"\n                :label=\"item.name\"\n                :value=\"item.code\">\n              </el-option>\n            </el-select>\n            <el-select :disabled=\"editMark\" class=\"selectArea\" v-model=\"areaCode\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in areaList\"\n                :key=\"item.code\"\n                :label=\"item.name\"\n                :value=\"item.code\">\n              </el-option>\n            </el-select>\n            <el-input :disabled=\"editMark\" class=\"addressInput\" v-model=\"address\" placeholder=\"请输入内容\"></el-input>\n          </div>\n        </div>\n        <div class=\"item map\">\n          <div class=\"itemTitle\">地图信息</div>\n          <el-select class=\"selectAddress\" v-model=\"searchInput\" :loading=\"loading\" :remote-method=\"selectAddressInput\" @change=\"selectAddressChange\" reserve-keyword filterable remote placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in searchResult\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.lnglat\">\n            </el-option>\n          </el-select>\n          <div class=\"map\">\n            <el-amap vid=\"amap\" ref=\"map\" :center=\"center\" :zoom=\"zoom\" :plugin=\"plugin\" :events=\"events\"></el-amap>\n            <div class=\"point\"><img src=\"@/assets/global/map_pin.png\" alt=\"\"></div>\n            <div class=\"location\" @click=\"getCurrentPositionLaglng\"><img src=\"../../assets/global/ic_map_locating.png\" alt=\"\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"editBtn\" v-if=\"editMark\">\n        <button @click=\"editAddress\">编辑地址</button>\n      </div>\n      <div class=\"saveBtn\" v-else>\n        <button class=\"cancel\" @click=\"canael\">取消</button>\n        <button class=\"save\" @click=\"save\">保存</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Vue from 'vue'\nimport VueAMap from 'vue-amap'\nimport { config } from '@/utils/global'\nimport requestApi from '@/api/requestApi'\nimport globalApi from '@/api/globalApi'\nVue.use(VueAMap)\n\n// 初始化高德地图的 key 和插件\nVueAMap.initAMapApiLoader({\n  key: config.amapKey,\n  plugin: ['AMap.Autocomplete', 'AMap.PlaceSearch', 'AMap.Scale', 'AMap.OverView', 'AMap.ToolBar', 'AMap.MapType', 'AMap.PolyEditor', 'AMap.CircleEditor', 'AMap.Geocoder', 'AMap.Geolocation'],\n  // 默认高德 sdk 版本为 1.4.4\n  v: '1.4.4'\n})\n\nexport default {\n  data(){\n    return {\n      loading: false,\n      temp: {},\n      searchResult: [],\n      provinceCode: '',\n      provinceList: [],\n      cityCode: '',\n      cityList: [],\n      areaCode: '',\n      areaList: [],\n      searchInput: '',\n      editMark: true,\n      address: '',\n      center: [116.397477,39.908692],\n      zoom: 16,\n      events: {\n        init: (o) => {\n          console.log(o)\n        },\n        'dragend': (e) => {\n          var centerPoint = this.$refs.map.$$getCenter()\n          this.center = centerPoint\n          var geocoder = new AMap.Geocoder({\n            radius: 1000,\n            extensions: 'all'\n          })\n          geocoder.getAddress(centerPoint, (status, result) => {\n            if (status == 'complete') {\n              console.log(result.regeocode)\n              // this.address = result.regeocode.formattedAddress\n            }\n          })\n        }\n      },\n      plugin: [\n        'ToolBar',\n        {\n          pName: 'Scale',\n          events: {\n            init(o) {\n              // console.log(o);\n            }\n          }\n        },\n        {\n          pName: 'Geolocation',\n          events: {\n            init: (o) => {\n              // o 是高德地图定位插件实例\n              console.log(123)\n            }\n          }\n        }\n      ],\n    }\n  },\n  created() {\n    this.companyAddressGet()\n    this.getProvinceList()\n  },\n  methods: {\n    companyAddressGet() {\n      requestApi.companyAddressGet().then(res => {\n        if(res.code == 0){\n          console.log(res)\n          this.address = res.data.address\n          this.provinceCode = res.data.provinceCode\n          this.cityCode = res.data.cityCode\n          this.areaCode = res.data.areaCode\n          if (res.data.location != '') {\n            this.center[1] = res.data.location.split(',')[0]\n            this.center[0] = res.data.location.split(',')[1]\n            try {\n              this.selectAddressChange(this.center)\n            }\n            catch {\n\n            }\n          } else {\n            this.getCurrentPositionLaglng()\n          }\n          let params = {\n            provinceCode: this.provinceCode\n          }\n          globalApi.getAddressCitys(params).then(res => {\n            if(res.code == 0){\n              this.cityList = res.data\n            }\n          })\n          let data = {\n            provinceCode: this.provinceCode,\n            cityCode: this.cityCode\n          }\n          globalApi.getAddressAreas(data).then(res => {\n            if(res.code == 0){\n              this.areaList = res.data\n            }\n          })\n        }\n      })\n    },\n    getProvinceList() {\n      globalApi.getAddressProvinces().then(res => {\n        if(res.code == 0){\n          this.provinceList = res.data\n        }\n      })\n    },\n    // getLagLng(){\n    //   this.closeMapDialog()\n    //   let data = {\n    //     address: this.address,\n    //     center: this.center\n    //   }\n    //   eventManager.returnEvent('mapLagLng', data)\n    //   this.$router.back(-1)\n    // },\n    getCurrentPositionLaglng(){\n      console.log(222)\n      this.getLocationLoading = true\n      var geolocation = new AMap.Geolocation({\n        // 是否使用高精度定位，默认：true\n        enableHighAccuracy: true,\n        // 设置定位超时时间，默认：无穷大\n        timeout: 10000,\n        // 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)\n        buttonOffset: new AMap.Pixel(10, 20),\n        //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n        zoomToAccuracy: true,     \n        //  定位按钮的排放位置,  RB表示右下\n        buttonPosition: 'RB'\n      })\n\n      geolocation.getCurrentPosition()\n\n      AMap.event.addListener(geolocation, 'complete', (data) => {\n        this.center = [data.position.lng, data.position.lat]\n        this.getLocationLoading = false\n      })\n      AMap.event.addListener(geolocation, 'error', (data) => {\n        console.log(data)\n        this.$message({\n          message: '获取位置信息超时',\n          type: 'error',\n          showClose: true,\n          duration: 1000\n        })\n      })\n    },\n    selectAddressChange (val) {\n      console.log(val)\n      this.center = [val[0], val[1]]\n      var geocoder = new AMap.Geocoder({\n        radius: 1000,\n        extensions: 'all'\n      })\n      geocoder.getAddress(val, (status, result) => {\n        if (status == 'complete') {\n          // this.address = result.regeocode.formattedAddress\n        }\n      })\n    },\n    selectAddressInput(query){\n      if (query !== '') {\n        this.loading = true\n        let autoOptions = {\n          city: '全国'\n        }\n        var placeSearch = new AMap.PlaceSearch(autoOptions);\n        placeSearch.search(query, (status, result) => {\n          // 搜索成功时，result即是对应的匹配数据\n          console.log(result)\n          if(result.info == \"OK\") {\n            this.loading = false\n            this.searchResult = result.poiList.pois\n            for(let i=0;i<this.searchResult.length;i++){\n              this.searchResult[i].lnglat = [this.searchResult[i].location.lng, this.searchResult[i].location.lat]\n            }\n          } else {\n            this.searchResult = []\n          }\n        })\n      } else {\n        this.searchResult = []\n      }\n    },\n    provinceCodeChange(val){\n      this.cityCode = ''\n      this.areaCode = ''\n      this.cityList = []\n      this.areaList = []\n      let params = {\n        provinceCode: val\n      }\n      globalApi.getAddressCitys(params).then(res => {\n        if(res.code == 0){\n          this.cityList = res.data\n        }\n      })\n    },\n    cityCodeChange(val){\n      this.areaCode = ''\n      this.areaList = []\n      let data = {\n        provinceCode: this.provinceCode,\n        cityCode: val\n      }\n      globalApi.getAddressAreas(data).then(res => {\n        if(res.code == 0){\n          this.areaList = res.data\n        }\n      })\n    },\n    editAddress(){\n      this.companyAddressGet()\n      this.getProvinceList()\n      this.editMark = false\n    },\n    save () {\n      let params = {\n        address: this.address,\n        provinceCode: this.provinceCode,\n        cityCode: this.cityCode,\n        areaCode: this.areaCode,\n        location: this.center[1] + ',' + this.center[0]\n      }\n      requestApi.companyAddressUpdate(params).then(res => {\n        if(res.code == 0){\n          this.$message({\n            message: '修改成功',\n            type: 'success',\n            showClose: true,\n            duration: 1000\n          })\n          this.companyAddressGet()\n          this.getProvinceList()\n          this.editMark = true\n        }\n      })\n    },\n    canael() {\n      this.companyAddressGet()\n      this.getProvinceList()\n      this.editMark = true\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.addressInfo {\n  // width: 100vw;\n  height: 100vh;\n  font-size: 48PX;\n  .address {\n    height: 620Px;\n    width: 100%;\n    min-width: 1100Px;\n    background: #FFFFFF;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.04);\n    overflow: hidden;\n    .title {\n      font-family: PingFangSC-Medium;\n      font-size: 16Px;\n      color: rgba(0,0,0,0.87);\n      line-height: 22Px;\n      margin-top: 24Px;\n      margin-left: 32Px;\n    }\n    .content {\n      box-sizing: border-box;\n      height: 450Px;\n      margin-top: 24Px;\n      .item {\n        float: left;\n        box-sizing: border-box;\n        width: 50%;\n        height: 100%;\n        padding: 0 32Px;\n        .itemTitle {\n          font-family: PingFangSC-Regular;\n          font-size: 14Px;\n          color: rgba(0,0,0,0.60);\n          text-align: left;\n          line-height: 20Px;\n        }\n        .text {\n          font-family: PingFangSC-Regular;\n          font-size: 14Px;\n          color: #000000;\n          text-align: left;\n          line-height: 20Px;\n          margin-top: 16Px;\n          p {\n            margin-top: 8Px;\n          }\n        }\n        .map {\n          background: rgba(0, 0, 0, 0.04);\n          height: 365Px;\n          margin-top: 16Px;\n          position: relative;\n          .point {\n            width: 20Px;\n            height: 40Px;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            img {\n              width: 100%;\n              height: 100%;\n            }\n          }\n          .location {\n            display: none;\n            width: 38Px;\n            height: 38Px;\n            background-color: #fff;\n            position: absolute;\n            bottom: 50Px;\n            left: 10Px;\n            border-radius: 5Px;\n            border: 1Px solid #ccc;\n            cursor: pointer;\n            img {\n              display: block;\n              width: 24Px;\n              height: 24Px;\n              position: absolute;\n              top: 7Px;\n              left: 7Px;\n            }\n          }\n          .amap-geolocation-con {\n            display: none;\n          }\n        }\n        .selectAddress {\n          .el-input {\n            width: 456Px;\n          }\n        }\n      }\n      .info {\n        border-right: 1Px solid rgba(0,0,0,0.08);\n        .editAddress {\n          .el-select {\n            .el-input {\n              width: 145Px;\n              min-width: 140Px;\n            }\n          }\n          .selectArea,\n          .selectCity {\n            margin-left: 10Px;\n          }\n          .addressInput {\n            width: 456Px;\n          } \n        }\n      }\n    }\n    .saveBtn,\n    .editBtn {\n      float: right;\n      button {\n        width: 96Px;\n        height: 36Px;\n        border: 0;\n        outline: none;\n        cursor: pointer;\n        background: #5AB3A4;\n        border-radius: 4Px;\n        font-family: PingFangSC-Medium;\n        font-size: 15Px;\n        color: #FFFFFF;\n        text-align: center;\n        margin-top: 40Px;\n        margin-right: 28Px;\n        line-height: 36Px;\n      }\n      .cancel {\n        border: 1px solid rgba(0,0,0,0.38);\n        color: rgba(0,0,0,0.87);\n        font-size: 15Px;\n        background: #FFF;\n      }\n      .save {\n        background: #FF7F4A;\n      }\n      .save:hover {\n        background: #FF5332;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addressInfo.vue?vue&type=template&id=b2bf2628&\"\nimport script from \"./addressInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./addressInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addressInfo.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { fetchPost, fetchGet } from './axios'\n\nexport default {\n  /**\n   * 获取区县列表\n   * @function getAddressAreas\n   * @type 'Get'\n   * @param provinceCode Number\n   * @param cityCode Number\n   */\n  getAddressAreas (params) {\n    return fetchGet('/address/areas', params)\n  },\n  /**\n   * 获取城市列表\n   * @function getAddressCitys\n   * @type 'Get'\n   * @param provinceCode Number\n   */\n  getAddressCitys (params) {\n    return fetchGet('/address/citys', params)\n  },\n  /**\n   * 获取省份列表\n   * @function getAddressProvinces\n   * @type 'Get'\n   */\n  getAddressProvinces (params) {\n    return fetchGet('/address/provinces', params)\n  },\n  /**\n   * 获取所有地址列表\n   * @function getAddressTrees\n   * @type 'Get'\n   */\n  getAddressTrees (params) {\n    return fetchGet('/address/trees', params)\n  },\n  /**\n   * 获取所有省市列表\n   * @function getAddressCityTrees\n   * @type 'Get'\n   */\n  getAddressCityTrees (params) {\n    return fetchGet('/address/city_trees', params)\n  },\n  /**\n   * 上传图片\n   * @function getFileuploadUpload\n   * @type 'POST'\n   */\n  getFileuploadUpload (params) {\n    return fetchPost('/fileupload/upload', params)\n  },\n  \n  /**\n   * 登录\n   * @function authLogin\n   * @type 'POST'\n   */\n  authLogin (params) {\n    return fetchPost('/auth/login', params)\n  },\n  /**\n   * 登录\n   * @function authLogin\n   * @type 'GET'\n   */\n  loginOut () {\n    return fetchGet('/auth/logout')\n  },\n\n  /**\n   * 上传图片到正式\n   * @function fileUploadGetUrl\n   * @type 'POST'\n   */\n  fileUploadGetUrl (params) {\n    return fetchPost('/service/upload', params)\n  },\n}","import { fetchPost, fetchGet } from './axios'\n\nexport default {\n  /**\n   * 数据中心-按天查询咨询记录\n   * @function datacenterConsult_records\n   * @type 'POST'\n   * @param pageNum Number\n   * @param pageSize Number\n   * @param type Number\n   * @param time Number\n   */\n  datacenterConsult_records (params) {\n    return fetchPost('/datacenter/consult_records', params)\n  },\n  /**\n   * 数据中心-统计咨询量和浏览量\n   * @function datacenterConsult_records\n   * @type 'POST'\n   * @param type String\n   * @param time String\n   */\n  datacenterStatistic (params) {\n    return fetchPost('/datacenter/statistic', params)\n  },\n  /**\n   * 修改地址信息 - 修改公司地址信息\n   * @function companyAddressUpdate\n   * @type 'POST'\n   * @param type String\n   * @param time String\n   */\n  companyAddressUpdate(params) {\n    return fetchPost('/company/address/update', params)\n  },\n  \n  /**\n   * 修改地址信息 - 获取公司地址信息\n   * @function companyAddressGet\n   * @type 'get'\n   */\n  companyAddressGet(params) {\n    return fetchGet('/company/address/get', params)\n  },\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressInfo.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addressInfo.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}