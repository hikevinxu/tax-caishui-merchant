(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14dd7d8a"],{"5a92":function(s,e,t){"use strict";var a=t("5e1c"),o=t.n(a);o.a},"5e1c":function(s,e,t){},b2f2:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"resetPc"},[t("div",{staticClass:"resetPc_container"},[t("head-nav",{attrs:{isLogin:!1,title:s.title,id:"mainHeader"}}),t("div",{staticClass:"resetContent"},[t("div",{staticClass:"resetForm"},[t("h4",[s._v("重置登录密码")]),t("div",{staticClass:"inputBox"},[t("span",{staticClass:"label"},[s._v("财税鱼账号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入需重置密码的账号(手机号)"},domProps:{value:s.phone},on:{input:[function(e){e.target.composing||(s.phone=e.target.value)},s.phoneInput]}})]),t("div",{staticClass:"inputBox"},[t("span",{staticClass:"label"},[s._v("验证码")]),t("div",{staticClass:"codeInputBox",staticStyle:{width:"50%"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.code,expression:"code"}],staticClass:"codeInput",attrs:{type:"text",maxlength:"4",placeholder:"验证码"},domProps:{value:s.code},on:{input:[function(e){e.target.composing||(s.code=e.target.value)},s.codeInput]}})]),t("div",{attrs:{id:"captcha"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:1==s.codeStart,expression:"codeStart == true"}],staticClass:"codeStart"},[s._v("获取验证码")]),t("span",{directives:[{name:"show",rawName:"v-show",value:1==s.isCode&&0==s.codeStart,expression:"isCode == true && codeStart == false"}],staticClass:"isCode",on:{click:s.codeClick}},[s._v("获取验证码")]),t("span",{directives:[{name:"show",rawName:"v-show",value:0==s.isCode&&0==s.codeStart,expression:"isCode == false && codeStart == false"}],staticClass:"count"},[s._v(s._s(s.count)+"s后获取")])]),t("div",{staticClass:"inputBox"},[t("span",{staticClass:"label"},[s._v("新密码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:s.password},on:{input:[function(e){e.target.composing||(s.password=e.target.value)},s.passwordInput]}})]),t("div",{staticClass:"inputBox"},[t("span",{staticClass:"label"},[s._v("确认密码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"再次确认新密码"},domProps:{value:s.repassword},on:{input:[function(e){e.target.composing||(s.repassword=e.target.value)},s.repasswordInput]}})]),t("button",{staticClass:"next",attrs:{disabled:s.disabled},on:{click:s.reset}},[s._v("重置")]),t("span",{staticClass:"explain"},[s._v("若手机号已停用请联系客服处理")])])]),s._m(0)],1)])},o=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footerContent"},[t("div",{staticClass:"qrcode"}),t("span",{staticClass:"line"},[s._v("Copyright 2019  |  杭州税牛科技有限公司  |  浙ICP备19028668号  |  "),t("a",{staticStyle:{"text-decoration-line":"none",color:"#ffffff"},attrs:{href:"https://res.caishuiyu.com/common/h5/privacy_agreement.html"}},[s._v("用户隐私协议")]),s._v("  |  All Rights Reserved")]),t("span",{staticClass:"line"},[s._v("  地址：杭州市西湖区金色西溪商务中心B座")])])])}],i=t("f822"),n=t("9dd3"),r=(t("f3e4"),t("403a")),c={name:"reset",components:{headNav:i["a"]},data:function(){return{title:"返回登录",phone:"",codeStart:!0,isCode:!0,count:0,disabled_code:!0,disabled:!0,code:"",password:"",repassword:"",timer:null,captchaIns:""}},created:function(){var s=this;initNECaptcha({captchaId:r["b"].captchaId,element:"#captcha",mode:"bind",width:"320px",enableClose:!0,onVerify:function(e,t){e?console.log(e):(s.captchaIns.close(),t&&s.sendCode(t))}},function(e){console.log(e),s.captchaIns=e},function(s){})},methods:{getCode:function(){var s=this,e=60;this.timer||(this.count=e,this.timer=setInterval(function(){s.count>0&&s.count<=e?(s.count--,console.log(s.count)):(clearInterval(s.timer),s.timer=null,s.isCode=!0,s.codeStart=!1)},1e3))},phoneInput:function(s){this.codeStart=!1,""==this.phone?(this.codeStart=!0,this.disabled=!0):(this.codeStart=!1,""!=this.code&&""!=this.password&&""!=this.repassword?this.disabled=!1:this.disabled=!0)},passwordInput:function(s){""!=this.code&&""!=this.phone&&""!=this.password&&""!=this.repassword?this.disabled=!1:this.disabled=!0},codeInput:function(s){""!=this.code&&""!=this.phone&&""!=this.password&&""!=this.repassword?this.disabled=!1:this.disabled=!0},repasswordInput:function(s){""!=this.code&&""!=this.phone&&""!=this.password&&""!=this.repassword?this.disabled=!1:this.disabled=!0},codeClick:function(){this.isCode=!1;var s=this.phone;if(!/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(s))return this.$message({message:"请输入正确的手机号",type:"error",showClose:!0,duration:1e3}),void(this.isCode=!0);this.captchaIns&&this.captchaIns.verify()},sendCode:function(s){var e=this,t=this.phone,a={phone:t,captchaValidate:s.validate};n["a"].passwordCode(a).then(function(s){e.captchaIns&&e.captchaIns.refresh(),0==s.code&&e.getCode()}).catch(function(s){e.captchaIns&&e.captchaIns.refresh(),e.isCode=!0})},reset:function(){var s=this;if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,16}$/.test(this.password))if(this.password==this.repassword)if(this.password.length>=6){var e=this.phone,t=this.password,a={phone:e,password:t,verifycode:this.code};console.log(a),n["a"].passwordReset(a).then(function(e){console.log(e),0==e.code&&(s.$message({message:"重置成功",type:"success",showClose:!0,duration:1e3}),s.$router.push({path:"/login"}))}).catch(function(e){console.log(res),s.isCode=!0})}else this.$message({message:"密码6~16位",type:"error",showClose:!0,duration:1e3});else this.$message({message:"两次密码输入不一致",type:"error",showClose:!0,duration:1e3});else this.$message({message:"密码需6~16位字母数字组合",type:"error",showClose:!0,duration:1e3})}}},d=c,l=(t("5a92"),t("2877")),p=Object(l["a"])(d,a,o,!1,null,"2baef2cf",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-14dd7d8a.384393ff.js.map